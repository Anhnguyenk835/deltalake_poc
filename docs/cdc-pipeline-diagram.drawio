<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" version="29.2.9">
  <diagram name="CDC Pipeline Architecture" id="cdc-pipeline">
    <mxGraphModel dx="1426" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="source-layer" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#666666;" value="SOURCE LAYER" vertex="1">
          <mxGeometry height="20" width="120" x="70" y="70" as="geometry" />
        </mxCell>
        <mxCell id="postgres-source" parent="1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" value="&lt;b&gt;PostgreSQL&lt;/b&gt;&lt;br&gt;Source Database&lt;br&gt;&lt;font color=&quot;#666666&quot;&gt;Port: 5433&lt;/font&gt;" vertex="1">
          <mxGeometry height="100" width="120" x="60" y="120" as="geometry" />
        </mxCell>
        <mxCell id="cdc-layer" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#666666;" value="CDC CAPTURE" vertex="1">
          <mxGeometry height="20" width="120" x="260" y="90" as="geometry" />
        </mxCell>
        <mxCell id="debezium" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" value="&lt;b&gt;Debezium&lt;/b&gt;&lt;br&gt;Kafka Connect&lt;br&gt;&lt;font color=&quot;#666666&quot;&gt;Port: 8083&lt;/font&gt;" vertex="1">
          <mxGeometry height="60" width="120" x="250" y="140" as="geometry" />
        </mxCell>
        <mxCell id="broker-layer" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#666666;" value="MESSAGE BROKER" vertex="1">
          <mxGeometry height="20" width="140" x="430" y="80" as="geometry" />
        </mxCell>
        <mxCell id="kafka" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;" value="&lt;b&gt;Apache Kafka&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#666666&quot;&gt;Port: 9092 / 29092&lt;/font&gt;" vertex="1">
          <mxGeometry height="50" width="140" x="440" y="120" as="geometry" />
        </mxCell>
        <mxCell id="kafka-topics" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=9;align=left;spacingLeft=5;" value="Topics:&lt;br&gt;• cdc.public.customers&lt;br&gt;• cdc.public.products&lt;br&gt;• cdc.public.orders&lt;br&gt;• cdc.public.order_items" vertex="1">
          <mxGeometry height="80" width="140" x="440" y="180" as="geometry" />
        </mxCell>
        <mxCell id="consumer-layer" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#666666;" value="STREAM PROCESSING (Choose One)" vertex="1">
          <mxGeometry height="20" width="250" x="660" y="80" as="geometry" />
        </mxCell>
        <mxCell id="consumer-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#999999;strokeWidth=2;dashed=1;" value="" vertex="1">
          <mxGeometry height="220" width="500" x="650" y="105" as="geometry" />
        </mxCell>
        <mxCell id="spark-streaming" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" value="&lt;b&gt;Spark Streaming&lt;/b&gt;&lt;br&gt;--connector&lt;br&gt;&lt;font color=&quot;#666666&quot;&gt;Spark UI: 4040&lt;/font&gt;" vertex="1">
          <mxGeometry height="60" width="140" x="670" y="120" as="geometry" />
        </mxCell>
        <mxCell id="spark-features" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#333333;" value="✓ Micro-batch (10s)&lt;br&gt;✓ MERGE operations&lt;br&gt;✓ Checkpointing&lt;br&gt;✓ Auto-recovery" vertex="1">
          <mxGeometry height="60" width="140" x="670" y="185" as="geometry" />
        </mxCell>
        <mxCell id="risingwave" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" value="&lt;b&gt;RisingWave&lt;/b&gt;&lt;br&gt;--risingwave&lt;br&gt;&lt;font color=&quot;#666666&quot;&gt;SQL: 4566 | UI: 5691&lt;/font&gt;" vertex="1">
          <mxGeometry height="60" width="140" x="830" y="120" as="geometry" />
        </mxCell>
        <mxCell id="risingwave-features" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#333333;" value="✓ SQL streaming&lt;br&gt;✓ Materialized views&lt;br&gt;✓ Native Debezium&lt;br&gt;✓ Real-time analytics" vertex="1">
          <mxGeometry height="60" width="140" x="830" y="185" as="geometry" />
        </mxCell>
        <mxCell id="python-consumer" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" value="&lt;b&gt;Python Consumer&lt;/b&gt;&lt;br&gt;(default)&lt;br&gt;&lt;font color=&quot;#666666&quot;&gt;delta-rs / PySpark&lt;/font&gt;" vertex="1">
          <mxGeometry height="60" width="140" x="990" y="120" as="geometry" />
        </mxCell>
        <mxCell id="python-features" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#333333;" value="✓ Lightweight&lt;br&gt;✓ Easy debugging&lt;br&gt;✓ Local development&lt;br&gt;✓ PostgreSQL sink" vertex="1">
          <mxGeometry height="60" width="140" x="990" y="185" as="geometry" />
        </mxCell>
        <mxCell id="mv-box" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=9;dashed=1;" value="&lt;b&gt;Materialized Views&lt;/b&gt;&lt;br&gt;(RisingWave only)" vertex="1">
          <mxGeometry height="60" width="140" x="830" y="250" as="geometry" />
        </mxCell>
        <mxCell id="mv-list" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=8;fontColor=#666666;" value="• order_analytics&lt;br&gt;• customer_order_summary&lt;br&gt;• product_inventory" vertex="1">
          <mxGeometry height="40" width="130" x="835" y="278" as="geometry" />
        </mxCell>
        <mxCell id="storage-layer" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#666666;" value="STORAGE LAYER" vertex="1">
          <mxGeometry height="20" width="120" x="660" y="340" as="geometry" />
        </mxCell>
        <mxCell id="delta-local" parent="1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" value="&lt;b&gt;Delta Lake&lt;/b&gt;&lt;br&gt;Local Files&lt;br&gt;&lt;font color=&quot;#666666&quot;&gt;./deltalake/&lt;/font&gt;" vertex="1">
          <mxGeometry height="80" width="120" x="700" y="370" as="geometry" />
        </mxCell>
        <mxCell id="delta-local-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#666666;" value="Spark Streaming&lt;br&gt;Python Consumer" vertex="1">
          <mxGeometry height="30" width="120" x="700" y="455" as="geometry" />
        </mxCell>
        <mxCell id="minio" parent="1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" value="&lt;b&gt;MinIO (S3)&lt;/b&gt;&lt;br&gt;Object Storage&lt;br&gt;&lt;font color=&quot;#666666&quot;&gt;API: 9000 | UI: 9001&lt;/font&gt;" vertex="1">
          <mxGeometry height="80" width="120" x="870" y="370" as="geometry" />
        </mxCell>
        <mxCell id="minio-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#666666;" value="RisingWave&lt;br&gt;s3://deltalake/" vertex="1">
          <mxGeometry height="30" width="120" x="870" y="455" as="geometry" />
        </mxCell>
        <mxCell id="postgres-target" parent="1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" value="&lt;b&gt;PostgreSQL&lt;/b&gt;&lt;br&gt;Target DB&lt;br&gt;&lt;font color=&quot;#666666&quot;&gt;Port: 5435&lt;/font&gt;" vertex="1">
          <mxGeometry height="80" width="100" x="1040" y="370" as="geometry" />
        </mxCell>
        <mxCell id="postgres-target-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#666666;" value="Python Consumer&lt;br&gt;(optional)" vertex="1">
          <mxGeometry height="30" width="100" x="1040" y="455" as="geometry" />
        </mxCell>
        <mxCell id="arrow1" edge="1" parent="1" source="postgres-source" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#6c8ebf;fontSize=9;" target="debezium" value="WAL&lt;br&gt;(Logical)">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="190" y="170" as="sourcePoint" />
            <mxPoint x="240" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow2" edge="1" parent="1" source="debezium" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d6b656;fontSize=9;" target="kafka" value="CDC&lt;br&gt;Events">
          <mxGeometry height="50" relative="1" width="50" x="-0.0044" as="geometry">
            <mxPoint as="offset" />
            <mxPoint x="380" y="170" as="sourcePoint" />
            <mxPoint x="430" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow3" edge="1" parent="1" source="kafka-topics" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.3;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#82b366;" target="spark-streaming" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="590" y="195" as="sourcePoint" />
            <mxPoint x="660" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow4" edge="1" parent="1" source="kafka-topics" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#9673a6;" target="risingwave" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="590" y="220" as="sourcePoint" />
            <mxPoint x="820" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow5" edge="1" parent="1" source="kafka-topics" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.7;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d6b656;" target="python-consumer" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="590" y="245" as="sourcePoint" />
            <mxPoint x="980" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow6" edge="1" parent="1" source="spark-features" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;strokeColor=#82b366;" target="delta-local" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="740" y="260" as="sourcePoint" />
            <mxPoint x="760" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow7" edge="1" parent="1" source="mv-box" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;strokeColor=#9673a6;" target="minio" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="900" y="320" as="sourcePoint" />
            <mxPoint x="930" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow8" edge="1" parent="1" source="python-features" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;strokeColor=#d6b656;dashed=1;" target="delta-local" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="1025" y="410" />
            </Array>
            <mxPoint x="1025" y="260" as="sourcePoint" />
            <mxPoint x="830" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow9" edge="1" parent="1" source="python-features" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;strokeColor=#d6b656;dashed=1;" target="postgres-target" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="1095" y="260" as="sourcePoint" />
            <mxPoint x="1090" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;dashed=1;" value="" vertex="1">
          <mxGeometry height="150" width="200" x="30" y="560" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#333333;" value="&lt;b&gt;Legend&lt;/b&gt;" vertex="1">
          <mxGeometry height="20" width="80" x="40" y="565" as="geometry" />
        </mxCell>
        <mxCell id="legend-spark" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="40" y="590" as="geometry" />
        </mxCell>
        <mxCell id="legend-spark-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="Spark Streaming" vertex="1">
          <mxGeometry height="20" width="100" x="70" y="587" as="geometry" />
        </mxCell>
        <mxCell id="legend-rw" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="40" y="615" as="geometry" />
        </mxCell>
        <mxCell id="legend-rw-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="RisingWave" vertex="1">
          <mxGeometry height="20" width="100" x="70" y="612" as="geometry" />
        </mxCell>
        <mxCell id="legend-python" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="40" y="640" as="geometry" />
        </mxCell>
        <mxCell id="legend-python-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="Python Consumer" vertex="1">
          <mxGeometry height="20" width="100" x="70" y="637" as="geometry" />
        </mxCell>
        <mxCell id="legend-db" parent="1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="" vertex="1">
          <mxGeometry height="20" width="20" x="40" y="665" as="geometry" />
        </mxCell>
        <mxCell id="legend-db-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="Database/Storage" vertex="1">
          <mxGeometry height="20" width="100" x="70" y="667" as="geometry" />
        </mxCell>
        <mxCell id="2thefmIU8vvymHCBrIRy-1" edge="1" parent="1" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d6b656;fontSize=9;" value="CDC&lt;br&gt;Events">
          <mxGeometry height="50" relative="1" width="50" x="-0.0044" as="geometry">
            <mxPoint as="offset" />
            <mxPoint x="420" y="395" as="sourcePoint" />
            <mxPoint x="490" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
